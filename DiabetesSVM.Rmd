---
title: "Predire le Diabete"
author: "Joao BABADOUDOU"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Le diabète est un problème de sante publique majeur dans le monde entier, touchant des millions de personnes et ayant un impact significatif sur leur qualité de vie. Dans cette étude nous proposons une approche basée sur les machines a vecteurs de support (SVM) pour détecter la maladie. Pour cela nous allons utiliser des données récupérées sur Kaggle, présentant certaines caractéristiques tels que la pression sanguine ou la quantité d'insuline dans le sang de certaines personnes.

Commençons par charger toutes les bibliothèques dont on aura besoin et les données. Les données sont disponibles sur mon github.

```{r chunk 1, echo=TRUE, message=FALSE, warning=FALSE}
library(readr)
library(dplyr)
library(ggplot2)
library(gridExtra)
library(GGally)
library(e1071)
library(gt) 
library(skimr)
# Importons nos données
df <- read_delim("diabetes.csv", delim = ";", 
                       escape_double = FALSE, col_types = cols(Outcome = col_factor(levels = c("0", 
                                                                                               "1"))), trim_ws = TRUE)
```

## **1- Analyse exploratoire des données**

### **1-1) Présentation du jeu de données**


### **1-2) Analyse univariable**

#### **1-2-1) Statistiques descriptives**

```{r}
 my_skim <- skim_with(numeric = sfl( p50 = NULL,hist=NULL, n_missing=NULL, complete_rate=NULL)) 
 diabetes_df <- my_skim(df)
 
 diabetes_df %>%
   select(-skim_type)   %>% 
   gt() %>%
   cols_label(
              numeric.mean = "Moyenne", numeric.sd = "Ecart-type",
              numeric.p0 = "Min",numeric.p25="1er Quartile" ,numeric.p75="3ème Quartile" ,
              numeric.p100 = "Max") %>%
   opt_stylize(style = 6, color = "cyan", add_row_striping = TRUE) %>%
   tab_header(title = "Summary of Variables in the diqbeyes data") 
```


L'analyse du tableau nous permet de constater l'absence de valeurs manquantes et des ecarts-types généralement élevés, surtout pour la quantité d'Insuline dans le sang. 
#### **1-2-2) Distribution des variables**

Affichons maintenant la distribution de chacune des variables exceptés la variable explicative.

```{r}
c2    <-    ggplot(df,    aes(Pregnancies))    +
  geom_bar(fill    =    "#104E8B")   +
  ggtitle(names(df[1]))

d2    <-    ggplot(df,    aes(Glucose))    +
  geom_histogram( fill    =    "#104E8B")   +
  ggtitle(names(df[,2]))

e2    <-    ggplot(df,    aes(BloodPressure) )   +
  geom_histogram( fill    =    "#104E8B" )      +    ggtitle(names(df[,3]))

f2    <-    ggplot(df,    aes(SkinThickness))    +
  geom_histogram( fill    =    "#104E8B")    + 
  ggtitle(names(df[,4]))

g2    <-    ggplot(df,    aes(Insulin))    +
  geom_histogram( fill    =    "#104E8B")    +    ggtitle(names(df[,5]))

h2    <-    ggplot(df,    aes(BMI))    +
  geom_histogram(fill    =    "#104E8B")     +
  ggtitle(names(df[,6]))

i2    <-    ggplot(df,    aes(DiabetesPedigreeFunction))    +
  geom_histogram(fill    =    "#104E8B")    +   ggtitle(names(df[,7]))

j2    <-    ggplot(df,    aes(Age))    +
  geom_histogram(fill    =    "#104E8B")    + 
  ggtitle(names(df[,8]))


gridExtra::grid.arrange(c2,d2,e2,f2,g2,h2,i2,j2)


```

On peut constater que les variables ont pour la plupart une distribution asymétrique à gauche. C'est à dire que la majorité des valeurs de la variable est supérieure à la valeur moyenne. Il conviendra pour nous de procéder a une standardisation des données pour la suite des analyses


#### **1-2-3) Variable explicatives**


### **1-3) Analyse multivariee**


```{r}
ggpairs(df, aes(colour = Outcome, alpha = 0.4))
```

